(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const g of o.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&d(g)}).observe(document,{childList:!0,subtree:!0});function c(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function d(e){if(e.ep)return;e.ep=!0;const o=c(e);fetch(e.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{typeof lucide<"u"&&lucide.createIcons();const h=new Lenis({duration:1.2,easing:t=>Math.min(1,1.001-Math.pow(2,-10*t)),direction:"vertical",gestureDirection:"vertical",smooth:!0,mouseMultiplier:1,smoothTouch:!1,touchMultiplier:2});function u(t){h.raf(t),requestAnimationFrame(u)}requestAnimationFrame(u);const c=document.getElementById("burger-btn"),d=document.getElementById("nav-menu"),e=document.querySelectorAll(".header__link");c&&d&&(c.addEventListener("click",()=>{d.classList.toggle("is-active"),c.querySelector("svg"),d.classList.contains("is-active")?c.style.color="var(--color-primary)":c.style.color="var(--color-text-main)"}),e.forEach(t=>{t.addEventListener("click",()=>{d.classList.remove("is-active"),c.style.color="var(--color-text-main)"})})),gsap.registerPlugin(ScrollTrigger);const o=()=>{const t=document.getElementById("hero-canvas");if(!t)return;const a=new THREE.Scene;a.fog=new THREE.Fog(15792639,10,50);const f=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3);f.position.z=30;const r=new THREE.WebGLRenderer({alpha:!0,antialias:!0});r.setSize(window.innerWidth,window.innerHeight),r.setPixelRatio(window.devicePixelRatio),t.appendChild(r.domElement);const l=new THREE.IcosahedronGeometry(10,2),v=new THREE.MeshBasicMaterial({color:165063,wireframe:!0,transparent:!0,opacity:.3}),s=new THREE.Mesh(l,v);a.add(s);const n=new THREE.BufferGeometry,i=200,L=new Float32Array(i*3);for(let p=0;p<i*3;p++)L[p]=(Math.random()-.5)*60;n.setAttribute("position",new THREE.BufferAttribute(L,3));const B=new THREE.PointsMaterial({size:.15,color:223649,transparent:!0,opacity:.6}),b=new THREE.Points(n,B);a.add(b);let T=0,H=0,M=0,S=0;const R=window.innerWidth/2,P=window.innerHeight/2;document.addEventListener("mousemove",p=>{T=p.clientX-R,H=p.clientY-P});const I=()=>{requestAnimationFrame(I),M=T*.001,S=H*.001,s.rotation.y+=.05*(M-s.rotation.y),s.rotation.x+=.05*(S-s.rotation.x),s.rotation.z+=.002,b.rotation.y-=.001,r.render(a,f)};I(),gsap.to(t,{opacity:1,duration:2,delay:.5}),window.addEventListener("resize",()=>{f.aspect=window.innerWidth/window.innerHeight,f.updateProjectionMatrix(),r.setSize(window.innerWidth,window.innerHeight)})};typeof THREE<"u"&&o(),document.querySelector(".hero")&&gsap.timeline().from(".hero__tag",{y:20,opacity:0,duration:.8,ease:"power3.out",delay:.5}).from(".hero__title",{y:30,opacity:0,duration:1,ease:"power3.out"},"-=0.6").from(".hero__subtitle",{y:20,opacity:0,duration:.8,ease:"power3.out"},"-=0.6").from(".hero__actions",{y:20,opacity:0,duration:.8,ease:"power3.out"},"-=0.6").from(".hero__scroll",{opacity:0,duration:1},"-=0.4"),document.querySelectorAll(".section-title").length>0,document.querySelector(".about")&&gsap.from(".about__content > *",{scrollTrigger:{trigger:".about",start:"top 80%"},y:30,opacity:0,duration:.8,stagger:.1}),document.querySelectorAll(".stat-number").forEach(t=>{const a=+t.getAttribute("data-count");gsap.to(t,{scrollTrigger:{trigger:".about__stats",start:"top 85%"},innerHTML:a,duration:2,snap:{innerHTML:1},ease:"power2.out"})}),document.querySelector(".benefits")&&gsap.from(".benefit-card",{scrollTrigger:{trigger:".benefits",start:"top 75%"},y:50,opacity:0,duration:.8,stagger:.2});const m=document.getElementById("contactForm"),A=document.getElementById("successMessage"),q=document.getElementById("phone"),w=document.getElementById("captcha"),_=document.getElementById("captchaLabel");if(m){const t=Math.floor(Math.random()*10)+1,a=Math.floor(Math.random()*10)+1;_.textContent=`Сколько будет ${t} + ${a}?`;const f=t+a;q.addEventListener("input",r=>{r.target.value=r.target.value.replace(/[^0-9+]/g,"")}),m.addEventListener("submit",r=>{r.preventDefault();let l=!0;m.querySelectorAll("input[required]").forEach(n=>{const i=n.closest(".form-group");n.value.trim()?i==null||i.classList.remove("error"):(i==null||i.classList.add("error"),l=!1)});const s=w.closest(".form-group");if(parseInt(w.value)!==f?(s.classList.add("error"),s.querySelector(".form-error").textContent="Неверный ответ",l=!1):s.classList.remove("error"),l){const n=m.querySelector('button[type="submit"]'),i=n.innerHTML;n.innerHTML="Отправка...",n.disabled=!0,setTimeout(()=>{A.classList.add("visible"),m.reset(),n.innerHTML=i,n.disabled=!1},1500)}}),m.querySelectorAll("input").forEach(r=>{r.addEventListener("focus",()=>{var l;(l=r.closest(".form-group"))==null||l.classList.remove("error")})})}const y=document.getElementById("cookiePopup"),E=document.getElementById("acceptCookies");y&&E&&(setTimeout(()=>{localStorage.getItem("cookiesAccepted")||y.classList.add("is-active")},2e3),E.addEventListener("click",()=>{y.classList.remove("is-active"),localStorage.setItem("cookiesAccepted","true")}))});
//# sourceMappingURL=main-CvM45Ql8.js.map
